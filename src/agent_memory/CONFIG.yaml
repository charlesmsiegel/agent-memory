# pyclawmem configuration

embedding:
  provider: bedrock                          # bedrock | openrouter | gguf
  # fallback: openrouter                     # optional: try this if primary fails

  # Bedrock-specific (used when provider or fallback is "bedrock")
  model_id: amazon.titan-embed-text-v2:0
  dimensions: 1024
  region: us-east-1

  # OpenRouter-specific (used when provider or fallback is "openrouter")
  # openrouter:
  #   api_key: ${OPENROUTER_API_KEY}
  #   model: thenlper/gte-large
  #   dimensions: 1024

  # GGUF-specific (used when provider or fallback is "gguf")
  # gguf:
  #   model_path: /path/to/model.gguf

llm:
  provider: bedrock
  model_id: us.anthropic.claude-haiku-4-5-20251001-v1:0
  region: us-east-1
  max_tokens: 1024

memory:
  db_path: ~/.pyclawmem/memory.sqlite
  facts_db_path: ~/.pyclawmem/facts.sqlite
  memory_dir: ~/.pyclawmem/workspace/memory
  chunk_tokens: 400
  chunk_overlap: 80
  hybrid_vector_weight: 0.7
  hybrid_text_weight: 0.3
  max_results: 6
  min_score: 0.35
  citations: auto                            # auto | on | off

context:
  max_context_tokens: 100000
  compaction_threshold: 0.85
  summary_preserve: "decisions, TODOs, open questions, constraints"
  session_dir: ~/.pyclawmem/sessions
  prompt_mode: full                          # full | minimal | none
  bootstrap_max_chars: 20000                 # per-file truncation limit

workspace:
  dir: ~/.pyclawmem/workspace

agent:
  id: default
  # name: null

  sandbox:
    mode: "off"                              # off | non-main | all
    workspace_access: rw                     # none | ro | rw

  group_chat:
    enabled: false
    respond_to_mentions: true
    respond_to_direct: true
    quiet_unless_mentioned: false

  heartbeat:
    enabled: false
    interval_minutes: 15
    # quiet_hours:
    #   start: "22:00"
    #   end: "07:00"
    tasks: []

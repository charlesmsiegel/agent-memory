# pyclawmem configuration
# All model IDs are AWS Bedrock model identifiers unless noted.

embedding:
  provider: bedrock                          # bedrock (only supported provider)
  model_id: amazon.titan-embed-text-v2:0     # Bedrock embedding model
  dimensions: 1024                           # Output vector dimensions
  region: us-east-1

llm:
  provider: bedrock
  model_id: us.anthropic.claude-haiku-4-5-20251001-v1:0  # Used for compaction summaries
  region: us-east-1
  max_tokens: 1024

memory:
  db_path: ~/.pyclawmem/memory.sqlite        # SQLite database for file-based memory index
  facts_db_path: ~/.pyclawmem/facts.sqlite   # SQLite database for conversational fact store
  memory_dir: ~/.pyclawmem/workspace/memory  # Directory for memory markdown files (indexed + export target)
  chunk_tokens: 400                          # Tokens per indexed chunk
  chunk_overlap: 80                          # Overlap between chunks
  hybrid_vector_weight: 0.7                  # Weight for vector search (0-1)
  hybrid_text_weight: 0.3                    # Weight for BM25 search (0-1)
  max_results: 6
  min_score: 0.35

context:
  max_context_tokens: 100000                 # Context window budget
  compaction_threshold: 0.85                 # Compact when context is this % full
  summary_preserve: "decisions, TODOs, open questions, constraints"
  session_dir: ~/.pyclawmem/sessions         # JSONL transcript storage

workspace:
  dir: ~/.pyclawmem/workspace                # Bootstrap files location (SOUL.md, IDENTITY.md, etc.)
